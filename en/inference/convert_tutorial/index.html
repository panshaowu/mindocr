
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://mindspore-lab.github.io/mindocr/en/inference/convert_tutorial/">
      
      
        <link rel="prev" href="../inference_thirdparty_quickstart/">
      
      
        <link rel="next" href="../../mkdocs/customize_dataset/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.11">
    
    
      
        <title>Model Conversion - MindOCR Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#inference-model-conversion-tutorial" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="MindOCR Docs" class="md-header__button md-logo" aria-label="MindOCR Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MindOCR Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Model Conversion
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/mindspore-lab/mindocr" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    mindspore-lab/mindocr
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../" class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../mkdocs/modelzoo_training/" class="md-tabs__link">
          
  
    
  
  Model Zoo

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../datasets/converters/" class="md-tabs__link">
          
  
    
  
  Tutorials

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../reference/api_doc/" class="md-tabs__link">
          
  
    
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../mkdocs/contributing/" class="md-tabs__link">
          
  
    
  
  Notes

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="MindOCR Docs" class="md-nav__button md-logo" aria-label="MindOCR Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    MindOCR Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mindspore-lab/mindocr" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    mindspore-lab/mindocr
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Model Zoo
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Model Zoo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mkdocs/modelzoo_training/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1. Training
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../inference_quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2. Inference - MindOCR Models
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../inference_thirdparty_quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3. Inference - Third-party Models
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    1. Datasets
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            1. Datasets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datasets/converters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dataset Preparation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/transform_tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Transformation Mechanism
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    2. Model Training
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            2. Model Training
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/yaml_configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Yaml Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/training_detection_custom_dataset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Text Detection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/training_recognition_custom_dataset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Text Recognition
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/distribute_train/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Distributed Training
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/advanced_train/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Advance Training
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    3. Inference and Deployment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            3. Inference and Deployment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mkdocs/online_inference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python Online Inference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../inference_tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python/C++ Inference on Ascend 310
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../inference_quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MindOCR Models Offline Inference - Quick Start
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../inference_thirdparty_quickstart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Third-party Models Offline Inference - Quick Start
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Model Conversion
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Model Conversion
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#inference-model-conversion-tutorial" class="md-nav__link">
    <span class="md-ellipsis">
      Inference - Model Conversion Tutorial
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inference - Model Conversion Tutorial">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-mindocr-models" class="md-nav__link">
    <span class="md-ellipsis">
      1. MindOCR models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. MindOCR models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-model-export" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Model Export
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-model-conversion" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Model Conversion
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.2 Model Conversion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121-model-shape-setting" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.1 Model Shape Setting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-model-precision-mode-setting" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.2 Model Precision Mode Setting
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-paddleocr-models" class="md-nav__link">
    <span class="md-ellipsis">
      2. PaddleOCR models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. PaddleOCR models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-trained-inference-model" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Trained -&gt; Inference model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-inference-model-onnx" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Inference model -&gt; ONNX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-onnx-mindir" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 ONNX -&gt; MindIR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-onnx-om" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 ONNX -&gt; OM
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.4 ONNX -> OM">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#241-model-shape-setting" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.1 Model Shape Setting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#242-model-precision-mode-setting" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.2 Model Precision Mode Setting
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-mmocr-models" class="md-nav__link">
    <span class="md-ellipsis">
      3. MMOCR models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. MMOCR models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-mmocr-model-onnx" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 MMOCR model -&gt; ONNX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-onnx-mindir" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 ONNX -&gt; MindIR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-onnx-om" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 ONNX -&gt; OM
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    4. Developer Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            4. Developer Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mkdocs/customize_dataset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customize Dataset
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mkdocs/customize_data_transform/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customize Data Transformation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mkdocs/customize_model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customize a New Model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mkdocs/customize_postprocess/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customize Postprocessing Method
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api_doc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API doc
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mkdocs/contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/frequently_asked_questions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#inference-model-conversion-tutorial" class="md-nav__link">
    <span class="md-ellipsis">
      Inference - Model Conversion Tutorial
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inference - Model Conversion Tutorial">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-mindocr-models" class="md-nav__link">
    <span class="md-ellipsis">
      1. MindOCR models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. MindOCR models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-model-export" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Model Export
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-model-conversion" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Model Conversion
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.2 Model Conversion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121-model-shape-setting" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.1 Model Shape Setting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122-model-precision-mode-setting" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.2 Model Precision Mode Setting
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-paddleocr-models" class="md-nav__link">
    <span class="md-ellipsis">
      2. PaddleOCR models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. PaddleOCR models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-trained-inference-model" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Trained -&gt; Inference model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-inference-model-onnx" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Inference model -&gt; ONNX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-onnx-mindir" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 ONNX -&gt; MindIR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-onnx-om" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 ONNX -&gt; OM
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.4 ONNX -> OM">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#241-model-shape-setting" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.1 Model Shape Setting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#242-model-precision-mode-setting" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.2 Model Precision Mode Setting
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-mmocr-models" class="md-nav__link">
    <span class="md-ellipsis">
      3. MMOCR models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. MMOCR models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-mmocr-model-onnx" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 MMOCR model -&gt; ONNX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-onnx-mindir" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 ONNX -&gt; MindIR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-onnx-om" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 ONNX -&gt; OM
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/mindspore-lab/mindocr/edit/master/docs/en/inference/convert_tutorial.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/mindspore-lab/mindocr/raw/master/docs/en/inference/convert_tutorial.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
    </a>
  


  <h1>Model Conversion</h1>

<h2 id="inference-model-conversion-tutorial">Inference - Model Conversion Tutorial<a class="headerlink" href="#inference-model-conversion-tutorial" title="Permanent link">&para;</a></h2>
<p>MindOCR supports model inference for models trained using MindOCR and converted from third-party toolboxes(PaddelOCR and mmOCR).</p>
<h3 id="1-mindocr-models">1. MindOCR models<a class="headerlink" href="#1-mindocr-models" title="Permanent link">&para;</a></h3>
<p>The inference of MindOCR models supports <a href="https://www.mindspore.cn/lite">MindSpore Lite</a> backend.</p>
<pre class="mermaid"><code>graph LR;
    A[MindOCR models] -- export --&gt; B[MindIR] -- converter_lite --&gt; C[MindSpore Lite MindIR];</code></pre>
<h4 id="11-model-export">1.1 Model Export<a class="headerlink" href="#11-model-export" title="Permanent link">&para;</a></h4>
<p>Before inference, it is necessary to export the trained ckpt to a <a href="https://www.mindspore.cn/docs/en/master/index.html">MindIR</a> file. Please run <code>tools/export.py</code>.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Export mindir of model `dbnet_resnet50` by downloading online ckpt</span>
python<span class="w"> </span>tools/export.py<span class="w"> </span>--model_name_or_config<span class="w"> </span>dbnet_resnet50<span class="w"> </span>--data_shape<span class="w"> </span><span class="m">736</span><span class="w"> </span><span class="m">1280</span>

<span class="c1"># Export mindir of model `dbnet_resnet50` by loading local ckpt</span>
python<span class="w"> </span>tools/export.py<span class="w"> </span>--model_name_or_config<span class="w"> </span>dbnet_resnet50<span class="w"> </span>--data_shape<span class="w"> </span><span class="m">736</span><span class="w"> </span><span class="m">1280</span><span class="w"> </span>--local_ckpt_path<span class="w"> </span>/path/to/local_ckpt

<span class="c1"># Export mindir of model whose architecture is defined by crnn_resnet34.yaml with local checkpoint</span>
python<span class="w"> </span>tools/export.py<span class="w"> </span>--model_name_or_config<span class="w"> </span>configs/rec/crnn/crnn_resnet34.yaml<span class="w"> </span>--local_ckpt_path<span class="w"> </span>~/.mindspore/models/crnn_resnet34-83f37f07.ckpt<span class="w"> </span>--data_shape<span class="w"> </span><span class="m">32</span><span class="w"> </span><span class="m">100</span>

For<span class="w"> </span>more<span class="w"> </span>usage,<span class="w"> </span>run<span class="w"> </span><span class="sb">`</span>python<span class="w"> </span>tools/export.py<span class="w"> </span>-h<span class="sb">`</span>.
</code></pre></div>
<p>Some models provide download links for MIndIR export files, as shown in <a href="../inference_quickstart/">Model List</a>. You can jump to the corresponding model introduction page for download.</p>
<h4 id="12-model-conversion">1.2 Model Conversion<a class="headerlink" href="#12-model-conversion" title="Permanent link">&para;</a></h4>
<p>You need to use the <code>converter_lite</code> tool to convert the above exported MindIR file offline so that it can be used for MindSpore Lite inference.</p>
<p>The tutorial for the <code>converter_lite</code> command can be referred to <a href="https://www.mindspore.cn/lite/docs/en/r2.0/use/cloud_infer/converter_tool.html">Offline Conversion of Inference Models</a>.</p>
<p>Assuming the input model is input.mindir and the output model after <code>converter_lite</code> conversion is output.mindir, the conversion command is as follows:</p>
<div class="highlight"><pre><span></span><code>converter_lite<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--saveType<span class="o">=</span>MINDIR<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--fmk<span class="o">=</span>MINDIR<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--optimize<span class="o">=</span>ascend_oriented<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--modelFile<span class="o">=</span>input.mindir<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--outputFile<span class="o">=</span>output<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--configFile<span class="o">=</span>config.txt
</code></pre></div>
<p>Among them, <code>config.txt</code> can be used to set the shape and inference precision of the conversion model.</p>
<h5 id="121-model-shape-setting">1.2.1 Model Shape Setting<a class="headerlink" href="#121-model-shape-setting" title="Permanent link">&para;</a></h5>
<ul>
<li>
<p><strong>Static Shape</strong></p>
<p>If the input name of the exported model is <code>x</code>, and the input shape is <code>(1,3,736,1280)</code>, then the <code>config.txt</code> is as follows:</p>
<div class="highlight"><pre><span></span><code>[ascend_context]
input_format=NCHW
input_shape=x:[1,3,736,1280]
</code></pre></div>
<p>The generated output.mindir is a static shape version, and the input image during inference needs to be resized to this input_shape to meet the input requirements.</p>
</li>
<li>
<p><strong>Dynamic Shape(scaling)</strong></p>
<p>In some inference scenarios, such as detecting a target and then executing the target recognition network, the number and size of targets is not fixed resulting. If each inference is computed at the maximum Batch Size or maximum Image Size, it will result in wasted computational resources.</p>
<p>Assuming the exported model input shape is (-1, 3, -1, -1), and the NHW axes are dynamic. Therefore, some optional values can be set during model conversion to adapt to input images of various size during inference.</p>
<p><code>converter_lite</code> achieves this by setting the <code>dynamic_dims</code> parameter in <code>[ascend_context]</code> through <code>--configFile</code>. Please refer to the <a href="https://www.mindspore.cn/lite/docs/en/master/use/cloud_infer/converter_tool_ascend.html#dynamic-shape-configuration">Dynamic Shape Configuration</a> for details. We will refer to it as <strong>Model Shape Scaling</strong> for short.</p>
<p>So, there are two options for conversion, by setting different config.txt:</p>
<ul>
<li>
<p><strong>Dynamic Image Size</strong></p>
<p>N uses fixed values, HW uses multiple optional values, the config.txt is as follows:</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>ascend_context<span class="o">]</span>
<span class="nv">input_format</span><span class="o">=</span>NCHW
<span class="nv">input_shape</span><span class="o">=</span>x:<span class="o">[</span><span class="m">1</span>,3,-1,-1<span class="o">]</span>
<span class="nv">dynamic_dims</span><span class="o">=[</span><span class="m">736</span>,1280<span class="o">]</span>,<span class="o">[</span><span class="m">768</span>,1280<span class="o">]</span>,<span class="o">[</span><span class="m">896</span>,1280<span class="o">]</span>,<span class="o">[</span><span class="m">1024</span>,1280<span class="o">]</span>
</code></pre></div>
</li>
<li>
<p><strong>Dynamic Batch Size</strong></p>
<p>N uses multiple optional values, HW uses fixed values, the config.txt is as follows:</p>
<div class="highlight"><pre><span></span><code><span class="o">[</span>ascend_context<span class="o">]</span>
<span class="nv">input_format</span><span class="o">=</span>NCHW
<span class="nv">input_shape</span><span class="o">=</span>x:<span class="o">[</span>-1,3,736,1280<span class="o">]</span>
<span class="nv">dynamic_dims</span><span class="o">=[</span><span class="m">1</span><span class="o">]</span>,<span class="o">[</span><span class="m">4</span><span class="o">]</span>,<span class="o">[</span><span class="m">8</span><span class="o">]</span>,<span class="o">[</span><span class="m">16</span><span class="o">]</span>,<span class="o">[</span><span class="m">32</span><span class="o">]</span>
</code></pre></div>
</li>
</ul>
<p>When converting the dynamic batch size/image size model, the option of NHW values can be set by the user based on empirical values or calculated from the dataset.</p>
<p>If your model needs to support both dynamic batch size and dynamic image size togather, you can combine multiple models with different batch size, each using the same dynamic image size.</p>
<p>In order to simplify the model conversion process, we have developed an automatic tool that can complete the dynamic value selection and model conversion. For detailed tutorials, please refer to <a href="../convert_dynamic/">Model Shape Scaling</a>.</p>
</li>
<li>
<p><strong>Dynamic Shape</strong></p>
<p>The diffenece between <code>Dynamic Shape</code> and <code>Dynamic Shape(scaling)</code> is that <code>Dynamic Shape</code> mode can adapt diverse batch size and input shape, the config.txt is as follows:
<div class="highlight"><pre><span></span><code>[acl_build_options]
input_format=NCHW
input_shape_range=x:[-1,3,-1,-1]
</code></pre></div></p>
</li>
</ul>
<p><strong>Notes:</strong></p>
<p>If the exported model is a static shape version, it cannot support dynamic image size and batch size conversion. It is necessary to ensure that the exported model is a dynamic shape version.</p>
<h5 id="122-model-precision-mode-setting">1.2.2 Model Precision Mode Setting<a class="headerlink" href="#122-model-precision-mode-setting" title="Permanent link">&para;</a></h5>
<p>For the precision of model inference, it is necessary to set it in <code>converter_lite</code> when converting the model.
Please refer to the <a href="https://www.mindspore.cn/lite/docs/en/master/use/cloud_infer/converter_tool_ascend.html#configuration-file">Ascend Conversion Tool Description</a>, the usage of <code>precision_mode</code> parameter is described in the table of the configuration file, you can choose <code>enforce_fp16</code>, <code>enforce_fp32</code>, <code>preferred_fp32</code> and <code>enforce_origin</code> etc.
So, you can add the <code>precision_mode</code> parameter in the <code>[Ascend_context]</code> of the above config.txt file to set the precision mode:</p>
<div class="highlight"><pre><span></span><code>[ascend_context]
input_format=NCHW
input_shape=x:[1,3,736,1280]
precision_mode=enforce_fp32
</code></pre></div>
<p>If not set, defaults to <code>enforce_fp16</code>.</p>
<h3 id="2-paddleocr-models">2. PaddleOCR models<a class="headerlink" href="#2-paddleocr-models" title="Permanent link">&para;</a></h3>
<p>The PaddleOCR models support two inference backends: <a href="https://www.hiascend.com/document/detail/en/CANNCommunityEdition/600alphaX/developmenttools/devtool/atlasamctacl_16_0004.html">MindSpore Lite</a>,
corresponding to the MindSpore Lite MindIR model and OM model, respectively.</p>
<pre class="mermaid"><code>graph LR;
    in1[PaddleOCR trained model] -- export --&gt; in2[PaddleOCR inference model] -- paddle2onnx --&gt; ONNX;
    ONNX -- converter_lite --&gt; o2(MindSpore Lite MindIR);
    ONNX -- atc --&gt; o1(OM);</code></pre>
<p>Two formats of Paddle models are used here, the training model and the inference model. The differences are as follows:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">type</th>
<th style="text-align: left;">format</th>
<th style="text-align: left;">description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">trained model</td>
<td style="text-align: left;">.pdparams、.pdopt、.states</td>
<td style="text-align: left;">PaddlePaddle trained model, which can store information such as model structure, weights, optimizer status, etc</td>
</tr>
<tr>
<td style="text-align: left;">inference model</td>
<td style="text-align: left;">inference.pdmodel、inference.pdiparams</td>
<td style="text-align: left;">PaddlePaddle inference model, which can be derived from its trained model, saving the network structure and weights.</td>
</tr>
</tbody>
</table>
<p>After downloading the model file and decompressing it, please distinguish between the trained model and inference model
according to the model format.</p>
<h4 id="21-trained-inference-model">2.1 Trained -&gt; Inference model<a class="headerlink" href="#21-trained-inference-model" title="Permanent link">&para;</a></h4>
<p>In the download link of PaddleOCR model, there are two formats: trained model and inference model. If a training model is provided, it needs to be converted to the format of inference model.</p>
<p>On the original PaddleOCR introduction page of each trained model, there are usually conversion script samples that only need to input the config file, model file, and save path of the trained model.
The <a href="https://github.com/PaddlePaddle/PaddleOCR/blob/release/2.6/doc/doc_ch/algorithm_det_db.md">example</a> is as follows:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># git clone https://github.com/PaddlePaddle/PaddleOCR.git</span>
<span class="c1"># cd PaddleOCR</span>
python<span class="w"> </span>tools/export_model.py<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-c<span class="w"> </span>configs/det/det_r50_vd_db.yml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-o<span class="w"> </span>Global.pretrained_model<span class="o">=</span>./det_r50_vd_db_v2.0_train/best_accuracy<span class="w">  </span><span class="se">\</span>
<span class="w">    </span>Global.save_inference_dir<span class="o">=</span>./det_db
</code></pre></div>
<h4 id="22-inference-model-onnx">2.2 Inference model -&gt; ONNX<a class="headerlink" href="#22-inference-model-onnx" title="Permanent link">&para;</a></h4>
<p>Install model conversion tool paddle2onnx：<code>pip install paddle2onnx==0.9.5</code></p>
<p>For detailed usage tutorials, please refer to <a href="https://github.com/PaddlePaddle/PaddleOCR/blob/release/2.6/deploy/paddle2onnx/readme.md">Paddle2ONNX model transformation and prediction</a>。</p>
<p>Run the conversion command to generate the onnx model:</p>
<div class="highlight"><pre><span></span><code>paddle2onnx<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--model_dir<span class="w"> </span>det_db<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--model_filename<span class="w"> </span>inference.pdmodel<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--params_filename<span class="w"> </span>inference.pdiparams<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--save_file<span class="w"> </span>det_db.onnx<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--opset_version<span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--input_shape_dict<span class="o">=</span><span class="s2">&quot;{&#39;x&#39;:[-1,3,-1,-1]}&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--enable_onnx_checker<span class="w"> </span>True
</code></pre></div>
<p>The <code>input_shape_dict</code> in the parameter can generally be viewed by opening the inference model using the <a href="https://github.com/lutzroeder/netron">Netron</a>,
or found in the code in <a href="https://github.com/PaddlePaddle/PaddleOCR/blob/release/2.6/tools/export_model.py">tools/export_model. py</a> above.</p>
<h4 id="23-onnx-mindir">2.3 ONNX -&gt; MindIR<a class="headerlink" href="#23-onnx-mindir" title="Permanent link">&para;</a></h4>
<p>The <code>converter_lite</code> script can be used to convert the ONNX into a MindSpore Lite MindIR. For detailed usage tutorials,
please refer to <a href="https://www.mindspore.cn/lite/docs/en/r2.0/use/cloud_infer/converter_tool.html">Offline Conversion of Inference Models</a>。</p>
<p>The conversion command is as follows:</p>
<div class="highlight"><pre><span></span><code>converter_lite<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--saveType<span class="o">=</span>MINDIR<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--fmk<span class="o">=</span>ONNX<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--optimize<span class="o">=</span>ascend_oriented<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--modelFile<span class="o">=</span>det_db.onnx<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--outputFile<span class="o">=</span>det_db_output<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--configFile<span class="o">=</span>config.txt
</code></pre></div>
<p>The conversion process is same as for <a href="#1-mindocr-models">MindOCR models</a>,
except that <code>--fmk</code> needs to specify that the input is the ONNX, which will not be repeated here.</p>
<h4 id="24-onnx-om">2.4 ONNX -&gt; OM<a class="headerlink" href="#24-onnx-om" title="Permanent link">&para;</a></h4>
<p>The ONNX model can be converted into an OM model by ATC tools.</p>
<p>Ascend Tensor Compiler (ATC) is a model conversion tool built upon the heterogeneous computing architecture CANN. It is designed to convert models of open-source frameworks into .om offline models supported by Ascend AI Processor. A detailed tutorial on the tool can be found in <a href="https://www.hiascend.com/document/detail/en/CANNCommunityEdition/600alphaX/infacldevg/atctool/atctool_0001.html">ATC Instructions</a>.</p>
<h5 id="241-model-shape-setting">2.4.1 Model Shape Setting<a class="headerlink" href="#241-model-shape-setting" title="Permanent link">&para;</a></h5>
<p>The exported ONNX in the example has an input shape of (-1, 3, -1, -1).</p>
<ul>
<li>
<p><strong>Static Shape</strong></p>
<p>It can be converted to a static shape version by fixed values for NHW, the command is as follows:</p>
<div class="highlight"><pre><span></span><code>atc<span class="w"> </span>--model<span class="o">=</span>det_db.onnx<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--framework<span class="o">=</span><span class="m">5</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--input_shape<span class="o">=</span><span class="s2">&quot;x:1,3,736,1280&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--input_format<span class="o">=</span>ND<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--soc_version<span class="o">=</span>Ascend310P3<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output<span class="o">=</span>det_db_static<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--log<span class="o">=</span>error
</code></pre></div>
<p>The generated file is a static shape version, and the input image during inference needs to be resized to this input_shape to meet the input requirements.</p>
</li>
<li>
<p><strong>Dynamic Shape(Scaling)</strong></p>
<p>The ATC tool also supports <strong>Model Shape Scaling</strong> by parameter <a href="https://www.hiascend.com/document/detail/en/CANNCommunityEdition/600alphaX/infacldevg/atctool/atctool_0056.html">dynamic_dims</a>, and some optional values can be set during model conversion to adapt to input images of various shape during inference.</p>
<p>So, there are two options for conversion, by setting different command line parameters:</p>
<ul>
<li>
<p><strong>Dynamic Image Size</strong></p>
<p>N uses fixed values, HW uses multiple optional values, the command is as follows:</p>
<div class="highlight"><pre><span></span><code>atc<span class="w"> </span>--model<span class="o">=</span>det_db.onnx<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--framework<span class="o">=</span><span class="m">5</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--input_shape<span class="o">=</span><span class="s2">&quot;x:1,3,-1,-1&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--input_format<span class="o">=</span>ND<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--dynamic_dims<span class="o">=</span><span class="s2">&quot;736,1280;768,1280;896,1280;1024,1280&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--soc_version<span class="o">=</span>Ascend310P3<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output<span class="o">=</span>det_db_dynamic_bs<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--log<span class="o">=</span>error
</code></pre></div>
</li>
<li>
<p><strong>Dynamic Batch Size</strong></p>
<p>N uses multiple optional values, HW uses fixed values, the command is as follows:</p>
<div class="highlight"><pre><span></span><code>atc<span class="w"> </span>--model<span class="o">=</span>det_db.onnx<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--framework<span class="o">=</span><span class="m">5</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--input_shape<span class="o">=</span><span class="s2">&quot;x:-1,3,736,1280&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--input_format<span class="o">=</span>ND<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--dynamic_dims<span class="o">=</span><span class="s2">&quot;1;4;8;16;32&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--soc_version<span class="o">=</span>Ascend310P3<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output<span class="o">=</span>det_db_dynamic_bs<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--log<span class="o">=</span>error
</code></pre></div>
</li>
</ul>
<p>When converting the dynamic batch size/image size model, the option of NHW values can be set by the user based on empirical values or calculated from the dataset.</p>
<p>If your model needs to support both dynamic batch size and dynamic image size togather, you can combine multiple models with different batch size, each using the same dynamic image size.</p>
<p>In order to simplify the model conversion process, we have developed an automatic tool that can complete the dynamic value selection and model conversion. For detailed tutorials, please refer to <a href="../convert_dynamic/">Model Shape Scaling</a>.</p>
</li>
</ul>
<p><strong>Notes:</strong></p>
<p>If the exported model is a static shape version, it cannot support dynamic image size and batch size conversion. It is necessary to ensure that the exported model is a dynamic shape version.</p>
<h5 id="242-model-precision-mode-setting">2.4.2 Model Precision Mode Setting<a class="headerlink" href="#242-model-precision-mode-setting" title="Permanent link">&para;</a></h5>
<p>For the precision of model inference, it is necessary to set it in <code>atc</code> when converting the model.
Please refer to the <a href="https://www.hiascend.com/document/detail/en/CANNCommunityEdition/600alphaX/infacldevg/atctool/atctool_0041.html">Command-Line Options</a>. Optional values include <code>force_fp16</code>, <code>force_fp32</code>, <code>allow_fp32_to_fp16</code>, <code>must_keep_origin_dtype</code>, <code>allow_mix_precision</code>, etc.
So, you can add the <code>precision_mode</code> parameter in the <code>atc</code> command line to set the precision:</p>
<div class="highlight"><pre><span></span><code>atc --model=det_db.onnx \
    --framework=5 \
    --input_shape=&quot;x:1,3,736,1280&quot; \
    --input_format=ND \
    --precision_mode=force_fp32 \
    --soc_version=Ascend310P3 \
    --output=det_db_static \
    --log=error
</code></pre></div>
<p>If not set, defaults to <code>force_fp16</code>.</p>
<h3 id="3-mmocr-models">3. MMOCR models<a class="headerlink" href="#3-mmocr-models" title="Permanent link">&para;</a></h3>
<p>MMOCR uses Pytorch, and its model files typically have a pth format suffix. You need to first export it to ONNX format
and then convert to an OM/MindIR format file supported by
<a href="https://www.hiascend.com/document/detail/zh/canncommercial/63RC1/inferapplicationdev/aclcppdevg/aclcppdevg_000004.html">ACL</a>/<a href="https://www.mindspore.cn/lite">MindSpore Lite</a>.</p>
<pre class="mermaid"><code>graph LR;
    MMOCR_pth -- export --&gt;  ONNX;
    ONNX -- converter_lite --&gt; o2(MindSpore Lite MindIR);
    ONNX -- atc --&gt; o1(OM);</code></pre>
<h4 id="31-mmocr-model-onnx">3.1 MMOCR model -&gt; ONNX<a class="headerlink" href="#31-mmocr-model-onnx" title="Permanent link">&para;</a></h4>
<p>MMDeploy provides the command to export MMOCR models to ONNX. For detailed tutorials, please refer to
<a href="https://github.com/open-mmlab/mmdeploy/blob/main/docs/en/02-how-to-run/convert_model.md">How to convert model</a>.</p>
<p>For parameter <code>deploy_cfg</code>, you need to select the <code>*_onnxruntime_dynamic.py</code> file in directory
<a href="https://github.com/open-mmlab/mmdeploy/tree/main/configs/mmocr">mmdeploy/configs/mmocr</a> to export as a dynamic shape
ONNX model.</p>
<h4 id="32-onnx-mindir">3.2 ONNX -&gt; MindIR<a class="headerlink" href="#32-onnx-mindir" title="Permanent link">&para;</a></h4>
<p>Please refer to <a href="#23-onnx---mindir">ONNX -&gt; MindSpore Lite MindIR</a> in the PaddleOCR section above.</p>
<h4 id="33-onnx-om">3.3 ONNX -&gt; OM<a class="headerlink" href="#33-onnx-om" title="Permanent link">&para;</a></h4>
<p>Please refer to <a href="#24-onnx---om">ONNX -&gt; OM</a> in the PaddleOCR section above.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../inference_thirdparty_quickstart/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Third-party Models Offline Inference - Quick Start">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Third-party Models Offline Inference - Quick Start
              </div>
            </div>
          </a>
        
        
          
          <a href="../../mkdocs/customize_dataset/" class="md-footer__link md-footer__link--next" aria-label="Next: Customize Dataset">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Customize Dataset
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 - 2024 MindSpore Lab
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="mailto:mindspore-lab@huawei.com" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.7l167.6-182.9c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/mindspore-lab/mindocr" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.zhihu.com/people/mindsporelab" target="_blank" rel="noopener" title="www.zhihu.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M170.54 148.13v217.54l23.43.01 7.71 26.37 42.01-26.37h49.53V148.13H170.54zm97.75 193.93h-27.94l-27.9 17.51-5.08-17.47-11.9-.04V171.75h72.82v170.31zm-118.46-94.39H97.5c1.74-27.1 2.2-51.59 2.2-73.46h51.16s1.97-22.56-8.58-22.31h-88.5c3.49-13.12 7.87-26.66 13.12-40.67 0 0-24.07 0-32.27 21.57-3.39 8.9-13.21 43.14-30.7 78.12 5.89-.64 25.37-1.18 36.84-22.21 2.11-5.89 2.51-6.66 5.14-14.53h28.87c0 10.5-1.2 66.88-1.68 73.44H20.83c-11.74 0-15.56 23.62-15.56 23.62h65.58C66.45 321.1 42.83 363.12 0 396.34c20.49 5.85 40.91-.93 51-9.9 0 0 22.98-20.9 35.59-69.25l53.96 64.94s7.91-26.89-1.24-39.99c-7.58-8.92-28.06-33.06-36.79-41.81L87.9 311.95c4.36-13.98 6.99-27.55 7.87-40.67h61.65s-.09-23.62-7.59-23.62v.01zm412.02-1.6c20.83-25.64 44.98-58.57 44.98-58.57s-18.65-14.8-27.38-4.06c-6 8.15-36.83 48.2-36.83 48.2l19.23 14.43zm-150.09-59.09c-9.01-8.25-25.91 2.13-25.91 2.13s39.52 55.04 41.12 57.45l19.46-13.73s-25.67-37.61-34.66-45.86h-.01zM640 258.35c-19.78 0-130.91.93-131.06.93v-101c4.81 0 12.42-.4 22.85-1.2 40.88-2.41 70.13-4 87.77-4.81 0 0 12.22-27.19-.59-33.44-3.07-1.18-23.17 4.58-23.17 4.58s-165.22 16.49-232.36 18.05c1.6 8.82 7.62 17.08 15.78 19.55 13.31 3.48 22.69 1.7 49.15.89 24.83-1.6 43.68-2.43 56.51-2.43v99.81H351.41s2.82 22.31 25.51 22.85h107.94v70.92c0 13.97-11.19 21.99-24.48 21.12-14.08.11-26.08-1.15-41.69-1.81 1.99 3.97 6.33 14.39 19.31 21.84 9.88 4.81 16.17 6.57 26.02 6.57 29.56 0 45.67-17.28 44.89-45.31v-73.32h122.36c9.68 0 8.7-23.78 8.7-23.78l.03-.01z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.indexes", "navigation.top", "navigation.footer", "toc.follow", "search.highlight", "search.share", "search.suggest", "content.action.view", "content.action.edit", "content.tabs.link", "content.code.copy", "content.code.select", "content.code.annotations"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
    
  </body>
</html>